---
title: "【Inkjet】inkjet-timing：圧電インクジェットにおける時間因果の可視化"
emoji: "💧"
type: "tech"
topics: ["inkjet", "制御工学", "物理モデリング", "可視化", "aitl"]
published: true
---

## はじめに

圧電インクジェットは、一見すると「波形を与えて液滴が出る」だけの
単純なシステムに見えます。

しかし実際には、

- 電気（V–I）
- 機械（変位）
- 流体（圧力・流量）

という **異なる物理ドメインが、マイクロ秒オーダの時間軸で因果的に連結**
されたシステムです。

本記事では、その時間因果を直感的に理解するための可視化プロジェクト  
**inkjet-timing** を紹介します。

---

## inkjet-timing とは

**inkjet-timing** は、圧電インクジェット吐出における

> 「同一時間軸上で、電気・機械・流体がどう因果接続されているか」

を **定性的に可視化**するための教材／PoC です。

数値精度や CFD の再現ではなく、

- 時間順序
- 遅延
- 位相関係
- 因果の流れ

に焦点を当てています。

---

## 何を可視化しているか

1 本の時間軸を共有し、以下の信号を縦方向に積層表示します。

- 駆動電圧 **V(t)**
- 電流応答 **I(t)**
- 圧電変位 **Δx(t)**
- チャネル圧力 **P(t)**
- インク流量 **Q(t)**（流出／流入）

各波形は異なる物理ドメインに属しますが、
**すべて時間因果で結ばれています**。

重要なのは「値」ではなく  
**どの現象が、どの順序で立ち上がるか**です。

---

## なぜ PID 制御ではないのか

インクジェット吐出は、

- 完全にオープンループ
- フィードフォワード駆動
- 数マイクロ秒以内に完結

という性質を持ちます。

液滴形成中にフィードバック制御を回す時間はありません。

安定性は、

- 駆動波形設計
- 機械減衰
- 音響・流体系構造

によって **物理的に埋め込まれます**。

これは PID 制御とは**カテゴリが異なる制御問題**です。

---

## 設計思想（Design Intent）

この可視化は、次の前提で設計されています。

- CFD ではない（定性的）
- パラメータ厳密性より因果構造を重視
- 過減衰で正常動作する系を表現

目的は数値予測ではなく、

> 「このタイミングで、なぜこの現象が起きるのか」

を即座に理解できる **物理直感の獲得**です。

---

## 可視化の読み方

- 横軸：時間（μs スケール）
- 縦軸：物理ドメイン（上から 電気 → 機械 → 流体）
- 1 本の時間カーソルが全ドメインを貫通
- 各ドメインの点が「その瞬間の状態」を示す

オシロスコープやロジックアナライザを
**物理ドメイン横断で拡張した表示**
と考えると理解しやすいです。

---

## Live Demo（GitHub Pages）

ブラウザ上で動作するインタラクティブデモを公開しています。

👉 https://samizo-aitl.github.io/inkjet-timing/index.html

- インストール不要
- 完全ブラウザ実行
- ゲインやタイミングを操作可能
- 教育・説明・レビュー用途を想定

---

## AITL における位置付け

AITL（Architecture-Integrated Thinking Loop）では、

- PID：実時間フィードバック制御
- FSM：状態遷移の管理
- 物理設計：安定性の埋め込み

を役割分担させます。

inkjet-timing は、

- 振る舞いが構造と時間で決まる
- 安定性が物理に内在する
- 因果関係を一望する必要がある

システムの代表例です。

インクジェット波形設計は  
**「物理制約付きフィードフォワード制御問題」**
として捉えることができます。

---

## ライセンス

### コード

HTML / JavaScript / CSS を含むソースコードは  
**MIT License** で公開しています。

### 概念モデル・解説

物理解釈・因果構造・設計思想は  
**教育・研究目的**で提供しています。

概念モデルや設計方法論を再利用する場合は
適切なクレジット表記をお願いします。

---

## おわりに

本プロジェクトは意図的に単純化されています。

これは、

- 詳細シミュレーションの代替
- 実機最適化ツール

ではありません。

しかし、

> 「時間と因果を正しく見る」

という一点においては、
インクジェット設計の理解を大きく前進させると考えています。

---

**GitHub Repository**  
https://github.com/Samizo-AITL/inkjet-timing
